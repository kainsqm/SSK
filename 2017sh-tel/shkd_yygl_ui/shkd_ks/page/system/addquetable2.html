<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="../../lib/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css" />
    <script src="../../lib/jquery/jquery-1.9.0.min.js" type="text/javascript"></script>
    <script src="../../lib/ligerUI/js/core/base.js" type="text/javascript"></script>
	<link href="../../css/public.css" rel="stylesheet" type="text/css" />
    <script src="../../lib/ligerUI/js/plugins/ligerGrid.js" type="text/javascript"></script> 
     <script src="../CustomersData.js" type="text/javascript"></script>
    <script src="../../lib/ligerUI/js/plugins/ligerDialog.js" type="text/javascript"></script>
    <script type="text/javascript">
            var TreeDeptData = { Rows : [
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"},
            { CompanyName: '2',CustomerID:"CDMA用户通过11808拨打台港澳电话无需具有国际长途直拨功能"}
            
            
        ]};
        


        $(function () {
            window['g'] = 
            $("#maingrid4").ligerGrid({
                checkbox: true,
                columns: [
                { display: '考题', name: 'CustomerID', align: 'left', width: '90%' },
                { display: '分值', name: 'CompanyName', minWidth: 60, width: 'auto' }
                ], dataAction: 'server',pageSize:10,
                data: TreeDeptData,
                width: '100%', height: '60%'
            });
            

            $("#pageloading").hide();
        });
        function f_onCheckAllRow(checked)
        {
            for (var rowid in this.records)
            {
                if(checked)
                    addCheckedCustomer(this.records[rowid]['CustomerID']);
                else
                    removeCheckedCustomer(this.records[rowid]['CustomerID']);
            }
        }

        /*
        该例子实现 表单分页多选
        即利用onCheckRow将选中的行记忆下来，并利用isChecked将记忆下来的行初始化选中
        */
        var checkedCustomer = [];
        function findCheckedCustomer(CustomerID)
        {
            for(var i =0;i<checkedCustomer.length;i++)
            {
                if(checkedCustomer[i] == CustomerID) return i;
            }
            return -1;
        }
        function addCheckedCustomer(CustomerID)
        {
            if(findCheckedCustomer(CustomerID) == -1)
                checkedCustomer.push(CustomerID);
        }
        function removeCheckedCustomer(CustomerID)
        {
            var i = findCheckedCustomer(CustomerID);
            if(i==-1) return;
            checkedCustomer.splice(i,1);
        }
        function f_isChecked(rowdata)
        {
            if (findCheckedCustomer(rowdata.CustomerID) == -1)
                return false;
            return true;
        }
        function f_onCheckRow(checked, data)
        {
            if (checked) addCheckedCustomer(data.CustomerID);
            else removeCheckedCustomer(data.CustomerID);
        }
        function f_getChecked()
        {
            alert(checkedCustomer.join(','));
        }

     function add_temp(){
            $.ligerDialog.open({
                target: $("#addquestion"),
                height:400,
                width: 400,
                title : "模板试卷资料",
                showMax: false,
                showToggle: false,
                showMin: false,
                isResize: false,
                slide: false
            });
        }
    </script>
</head>
<body>
<div class="l-loading" style="display:block" id="pageloading"></div> 
  <form>
  <div>
   <input type="button" value="删除选中的考题" onclick="f_getChecked()" />
  </div>
    <div id="maingrid4" style="margin:0; padding:0"></div>

  </form>
        <tr style="padding-top: 20px;">
            
                    <td colspan="8" align="center">
                        <input type="button" value="生成模板" id="insertOpen" onclick="add_temp()" />&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="button" value="返回" />&nbsp;&nbsp;&nbsp;&nbsp;
                    </td>
                </tr>

  <div style="display:none;">
  <!-- g data total ttt -->
</div>
        <div id="addquestion" style="width:98%; margin:5px; padding-right:20px;display:none;" title="sss">
            
           <table class="search_table" cellpadding="3" cellspacing="3" width="100%" >
                <tr><td class="td_lable">业务类型：</td><td class="td_value" validate="{required:true}" ><input type="text"/>&nbsp;<red>*</red></td><td class="td_value">业务类型不能为空</td></tr>
                <tr><td class="td_lable">考题类型：</td><td class="td_value"><input validate="{required:true}" type="text"/>&nbsp;<red>*</red><td class="td_value">考题类型不能为空</td></tr>
                <tr><td class="td_lable">数量：</td><td class="td_value"><input type="text" validate="{required:true}" />&nbsp;<red>*</red></td><td class="td_value">数量不能为空</td></tr>
                <tr><td class="td_lable">分数：</td><td class="td_value"><input validate="{required:true}" type="text"/>&nbsp;<red>*</red></td><td class="td_value">分数不能为空</td></td></tr>
                <tr><td class="td_lable">考题难度：</td><td class="td_value"><input validate="{required:true}" type="text"/>&nbsp;<red>*</red></td><td class="td_value">考题难度不能为空</td></td></tr>
                <tr>
                    <td colspan="8" align="center">
                        <input id="updateForm" type="button"  value="新增" />
                        <input id="updateForm" type="button"  value="提交" />
                    </td>
                </tr>
            </table>
        </div>
</body>
</html>
