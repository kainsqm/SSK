<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>历史模板选题</title>
  	<link href="../../lib/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css" />
	<link href="../../css/public.css" rel="stylesheet" type="text/css" />
    <link href="../../lib/ligerUI/skins/Gray/css/all.css" rel="stylesheet" type="text/css" />
    <script src="../../lib/jquery/jquery-1.9.0.min.js" type="text/javascript"></script>  
    <script src="../../lib/ligerUI/js/ligerui.all.js" type="text/javascript"></script> 
    <script src="../../lib/ligerUI/js/plugins/ligerPopupEdit.js"></script>

    <script language="javascript" type="text/javascript" src="../../js/My97DatePicker/WdatePicker.js"></script>

    <style type="text/css">
    	div.title_div{border-radius: 5px; text-align:left; margin-top:5px;border: solid 1px #D7D7D7;
    		width:90%; height:30px; line-height:30px; vertical-align:middle; font-size:14px; font-family:"黑体";
    	}
    	input.input_text{border-radius:5px; width:130px; height:18px; line-height:18px; padding-left:3px;}
    	input[type='button']{ border:#d3d3d3 1px solid; width:80px; height:25px; cursor:pointer;}
    	input.date_text{border-radius:5px; width:135px; height:18px; line-height:18px;}
    	table td{ height:30px; line-height:30px;}
    	table .search_table td.td_lable{ text-align:right;}
    	table .search_table td.td_value{ text-align:left;}
    	a{text-decoration : none;color:blue;}
    	red{color: red;}
    </style>
	<SCRIPT type="text/javascript">
		
		
	/*	$(document).ready(function(){
			$.fn.zTree.init($("#treeDemo"), setting, zNodes);
			$("#selectAll").bind("click", selectAll);
		});*/
		//-->
	</SCRIPT>
	<script type="text/javascript">

		$(function ()
		{
		
			$("#layout1").ligerLayout({ leftWidth: 200,height:'99%'});
		});
	</script>
	<script type="text/javascript"> 
		var TreeDeptData = { Rows : [
			{ id: '01',username:"电信当前的CDMA号码为__,__,__",workId:"AKZ0001", phone:"填空题",email:"中",bumen:"航务带班",role:"ABK2014",times:"20170106"},
			{ id: '01',username:"电信当前的CDMA号码为__,__,__",workId:"AKZ0001", phone:"填空题",email:"中",bumen:"航务带班",role:"ABK2014",times:"20170106"},
			{ id: '01',username:"电信当前的CDMA号码为__,__,__",workId:"AKZ0001", phone:"填空题",email:"中",bumen:"航务带班",role:"ABK2014",times:"20170106"},
			{ id: '01',username:"电信当前的CDMA号码为__,__,__",workId:"AKZ0001", phone:"填空题",email:"中",bumen:"航务带班",role:"ABK2014",times:"20170106"},
			{ id: '01',username:"电信当前的CDMA号码为__,__,__",workId:"AKZ0001", phone:"填空题",email:"中",bumen:"航务带班",role:"ABK2014",times:"20170106"},
			{ id: '01',username:"电信当前的CDMA号码为__,__,__",workId:"AKZ0001", phone:"填空题",email:"中",bumen:"航务带班",role:"ABK2014",times:"20170106"},
			
		]};

		var CustomersData = { Rows : [
			{ CustomerID: '01',CompanyName:'商客日考9月20日',ContactName:'业务考试', phone:'20170308',City:'测试一组',Country:'有效',Countype:'日考',isType:'是'},
			{ CustomerID: '02',CompanyName:'商客日考12月12日',ContactName:'业务考试', phone:'20170308',City:'测试一组',Country:'有效',Countype:'月考',isType:'是'},
			{ CustomerID: '03',CompanyName:'商客日考12月16日',ContactName:'业务考试', phone:'20170308',City:'测试一组',Country:'有效',Countype:'日考',isType:'是'},
			{ CustomerID: '04',CompanyName:'商客日考3月15日',ContactName:'业务考试', phone:'20170308',City:'测试一组',Country:'有效',Countype:'月考',isType:'是'},
			{ CustomerID: '05',CompanyName:'商客日考4月17日',ContactName:'业务考试', phone:'20170308',City:'测试一组',Country:'有效',Countype:'日考',isType:'是'},
			{ CustomerID: '06',CompanyName:'商客日考7月15日',ContactName:'业务考试', phone:'20170308',City:'测试一组',Country:'有效',Countype:'日考',isType:'是'},
			
			]};
		
		var manager;
        $(function ()
        {
            manager = $("#workpaper_list").ligerGrid({
            	checkbox: true,
                columns: [
					{ display: '编号', name: 'workId',  minWidth: 150, align: 'left' , isSort: false},
					{ display: '题目描述', name: 'username',id: 'id1', minWidth: 100, align: 'left', isSort: false },
					{ display: '考题类型', name: 'phone', minWidth: 100, align: 'left' , isSort: false},
					{ display: '考题难度', name: 'email', minWidth: 100, align: 'left', isSort: false },
					{ display: '所属分类', name: 'bumen', minWidth: 100, align: 'left', isSort: false },
					{ display: '录入人', name: 'role', minWidth: 100, align: 'left', isSort: false },					
					{ display: '录入时间', name: 'times', minWidth: 100, align: 'left', isSort: false }					
                ], data: TreeDeptData,width: 'auto', height: '100%'
            }
            );
			//collapseAll();
			$("#pageloading").hide(); 
        });
        function collapseAll()
        {
            manager.collapseAll();
        }
        function expandAll()
        {
            manager.expandAll();
        }
		function itemclick(item)
        {
            alert(item.text);
        }
		/*********************
		 * 员工信息编辑
		 *********************/
		function eidt_user(editType){
			var titleInfo="新增试卷页面";
				location.href="tempoptiontable.html";
			// $.ligerDialog.open({
			// 	url:'addquetable.html',
			// 	height:'800',
			// 	width: '800',
			// 	title : titleInfo,
			// 	showMax: false,
			// 	showToggle: false,
			// 	showMin: false,
			// 	isResize: true,
			// 	slide: false
			// });
		}
		/*********************
		 * 删除员工信息
		 *********************/
		function deleteUser(userID){
			$.ligerDialog.confirm('确认要删除员工['+userID+']吗？', function (yes) { 
				if(yes){
					alert("开始删除...");
				} 
			});
		}
		/*********************
		 * 重置员工密码
		 *********************/
		function resetPwd(userID){
			$.ligerDialog.confirm('确认要重置员工['+userID+']的密码吗？', function (yes) { 
				if(yes){
					alert("开始重置...");
				} 
			});
		}
		/*********************
		 * 角色信息分配
		 *********************/
		function changeRoleInfo(userID){
			$.ligerDialog.open({
				height:330,
				width: 340,
				title : '角色信息分配',
				url:'roleInfoChose.html', 
				showMax: false,
				showToggle: false,
				showMin: false,
				isResize: true,
				slide: false
			});
		}
    </script> 
<script type="text/javascript">
   function valid()
     {
         var form = new liger.get("form1");
         alert(form.valid());
     }
	function f_search()
        {
            manager.options.data = $.extend(true, {}, TreeDeptData);
            manager.loadData(f_getWhere());
        }
	function f_getWhere()
	{
		if (!manager) return null;
		var clause = function (rowdata, rowindex)
		{
			var key = $("#bumen").val();
			return rowdata.bumen.indexOf(key) > -1;
		};
		return clause; 
	}
</script>

</head>
<div>
 <body> 

		<div align="left" style="margin-top:20px; margin-left:5px; padding-left:10px;">
			<table class="search_table" cellpadding="3" cellspacing="3" width="100%" >
				<tr>
					<td class="td_lable">题目描述：</td><td class="td_value"><input style="width: 135px;" type="text"/></td>
					<td class="td_lable">所属业务分类：</td><td class="td_value"><input style="width: 135px;" type="text"/></td>
					<td class="td_lable">录入人：</td><td class="td_value"><input style="width: 135px;" type="text"/></td>
						<td class="td_lable">考试难度：</td><td class="td_value">
						<select name="examtype" id="角色选择" style="width: 135px;" >
			                <option value="opt1">请选择</option>
			                <option value="opt1">难</option>
			                <option value="opt1">中</option>
			                <option value="opt1">易</option>
			            </select> 
					</td>
					</tr>
					<tr>
					<td class="td_lable">录入开始时间</td><td class="td_value"><input class="Wdate date_text" type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" /></td>
					<td class="td_lable">录入结束时间：</td><td class="td_value"><input class="Wdate date_text" type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" /></td>

					<td class="td_lable">考试类型：</td><td class="td_value">
						<select name="examtype" id="examtype" style="width: 135px;" >
			                <option value="opt1">请选择</option>
			                <option value="opt1">请选择</option>
							<option value="opt1">请选择</option>
							<option value="opt2">判断题</option>
							<option value="opt3">改错题</option>
							<option value="opt5">单选题</option>
							<option value="opt6">填空题</option>
							<option value="opt7">问答题</option>
							<option value="opt8">多选题</option>
			            </select> 
					</td>
				<td class="td_lable">历史模板：</td><td class="td_value"><input type="text" id="historyid" /></td>
				</tr>
			</div>
			   <script type="text/javascript">


            $("#historyid").ligerPopupEdit({
                condition: {
                    prefixID: 'condtion_',
                    fields: [
                        { name: 'CompanyName', type: 'text', label: '模板名称' },
                    ]
                },
                grid: getGridOptions(true),
                searchClick : function(e){
                  
                    //e.grid.set('parms', { userName: 'zzq' });
                    //e.grid.reload();
                    
                    //grid = e.grid 
                    alert("这里可以根据搜索规则来搜索（下面的代码已经本地搜索),搜索规则:" + liger.toJSON(e.rules));
                    e.grid.loadData($.ligerFilter.getFilterFunction(e.rules));
                },
                valueField: 'CustomerID',
                textField: 'CustomerID',
                width: 135
            });



            function getGridOptions(checkbox) {
                var options = {
                    columns: [
                    { display: '试卷编号', name: 'CustomerID', align: 'left', width: 100, minWidth: 60 },
                    { display: '试卷名称', name: 'CompanyName', minWidth: 120, width: 100 },
                    { display: '试卷描述', name: 'ContactName', minWidth: 140, width: 100 },
                    { display: '生成日期', name: 'phone', width: 100 },
                    { display: '操作人', name: 'City', width: 100 },
                    { display: '状态', name: 'Country', width: 100 },
                    { display: '试卷类型', name: 'Countype', width: 100 },
                    { display: '模板试卷', name: 'isType', width: 100 }
                    ], switchPageSizeApplyComboBox: false,
                    data: CustomersData,
                    pageSize: 10,
                    checkbox: checkbox
                };
                return options;
            }
        </script>

        
    <script type="text/javascript">

        $(function ()
        {
        
            $("#layout1").ligerLayout({ leftWidth: 200,height:'99%'});
        });
    </script>

			<div style="margin-top:20px;">
				<tr >
					<td colspan="8" align="center">
						<input type="button" value="查询" />&nbsp;&nbsp;&nbsp;&nbsp;
						<input type="button" value="重置" />&nbsp;&nbsp;&nbsp;&nbsp;
						<input type="button" value="查看已选试题" id="insertOpen" onclick="eidt_user('add')" style="width:109px;"/>&nbsp;&nbsp;&nbsp;&nbsp;
						<input type="button" value="放入随机考题区" id="insertOpen" onclick="eidt_user('add')" style="width:130px;" />&nbsp;&nbsp;&nbsp;&nbsp;
						<input type="button" value="返回" id="insertOpen" onclick="window.history.back()" />&nbsp;&nbsp;&nbsp;&nbsp;
					</td>
				</tr>
			</table>			
		</div>
		<br>

		<div id="workpaper_list"></div>
		
</body>
</html>

